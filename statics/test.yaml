# DDP
gpus: "4,5"
flag: test

# Log
log_dir: "./log/output_dir_test"

# Task
if_predict_label: false
if_predict_mask: true

no_model_eval: false

# Model
model:
  name: DiffIML
  # Model specific setting
  prior_rate: 0.1
  pretrain: true
  seg_weight: 0.2
  infer_time: 5
  backbone: segformer_b3
  num_inference_steps: 8

#  Test dataset (one or many)
test_dataset:
  - name: JsonDataset
    dataset_name: COVERAGE
    image_size: 512
    path: /mnt/data0/public_datasets/IML/coverage_full.json
    # Dataset specific setting
    is_resizing: true
    is_padding: false
    edge_mask_width: 7
  - name: JsonDataset
    dataset_name: Columbia
    image_size: 512
    path: /mnt/data0/public_datasets/IML/Columbia_full.json
    # Dataset specific setting
    is_resizing: true
    is_padding: false
    edge_mask_width: 7

# Transform
transform:
  name: IMDLTransform

checkpoint_path: /mnt/data1/dubo/workspace/UniForensicsBench/output_dir
test_batch_size: 2

# Device
device: "cuda"
num_workers: 8
pin_mem: true

# Distributed training parameters
world_size: 1
local_rank: -1
dist_on_itp: false
dist_url: "env://"

